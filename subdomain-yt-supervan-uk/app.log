üöÄ YouTube Summarizer Server Starting...
üìç Server running at: http://localhost:5000
üîë API Key loaded from .env file
‚ú® Ready to summarize YouTube videos!
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.75:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [08/Dec/2025 14:14:36] "HEAD / HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:22] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /style.css?v=1004 HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /logo.png HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /script.js?v=1006 HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /sw.js?t=1765203323179 HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /index.html HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /api/features HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /style.css HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /favicon.png HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /api/features HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /script.js HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /manifest.json HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /icon-192.png HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:15:23] "GET /favicon.png HTTP/1.1" 200 -
Traceback (most recent call last):
  File "/home/lyndon/git/ai/youtube summary/subdomain-yt-supervan-uk/app.py", line 890, in extract_steps
    response = model.generate_content(prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyndon/git/ai/youtube summary/subdomain-yt-supervan-uk/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyndon/git/ai/youtube summary/subdomain-yt-supervan-uk/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/home/lyndon/git/ai/youtube summary/subdomain-yt-supervan-uk/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyndon/git/ai/youtube summary/subdomain-yt-supervan-uk/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/home/lyndon/git/ai/youtube summary/subdomain-yt-supervan-uk/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/home/lyndon/git/ai/youtube summary/subdomain-yt-supervan-uk/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/lyndon/git/ai/youtube summary/subdomain-yt-supervan-uk/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/home/lyndon/git/ai/youtube summary/subdomain-yt-supervan-uk/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyndon/git/ai/youtube summary/subdomain-yt-supervan-uk/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
Please retry in 24.096981935s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 24
}
]
127.0.0.1 - - [08/Dec/2025 14:15:35] "[35m[1mPOST /api/steps HTTP/1.1[0m" 500 -
WARNING: [youtube] No supported JavaScript runtime could be found. Only deno is enabled by default; to use another runtime add  --js-runtimes RUNTIME[:PATH]  to your command/config. YouTube extraction without a JS runtime has been deprecated, and some formats may be missing. See  https://github.com/yt-dlp/yt-dlp/wiki/EJS  for details on installing one
WARNING: [youtube] Uj_u9qDRzpE: Some web_safari client https formats have been skipped as they are missing a url. YouTube is forcing SABR streaming for this client. See  https://github.com/yt-dlp/yt-dlp/issues/12482  for more details
WARNING: [youtube] Uj_u9qDRzpE: Some web client https formats have been skipped as they are missing a url. YouTube is forcing SABR streaming for this client. See  https://github.com/yt-dlp/yt-dlp/issues/12482  for more details
WARNING: ffmpeg not found. The downloaded format may not be the best available. Installing ffmpeg is strongly recommended: https://github.com/yt-dlp/yt-dlp#dependencies
WARNING: You have asked for UNPLAYABLE formats to be listed/downloaded. This is a developer option intended for debugging. 
         If you experience any issues while using this option, DO NOT open a bug report
[youtube] Extracting URL: https://www.youtube.com/watch?v=Uj_u9qDRzpE
DEBUG: Steps Transcript length: 17010 chars
‚ùå Error in extract_steps: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
Please retry in 24.096981935s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 24
}
]
üîç Checking if video Uj_u9qDRzpE is live/VOD...
üöÄ Attempting Method 1: YouTubeTranscriptApi for Uj_u9qDRzpE...
‚ö†Ô∏è Direct YouTubeTranscriptApi failed: no element found: line 1, column 0
üöÄ Attempting Method 1.5: yt-dlp Direct Connection...
[youtube] Uj_u9qDRzpE: Downloading webpage
WARNING: [youtube] No supported JavaScript runtime could be found. Only deno is enabled by default; to use another runtime add  --js-runtimes RUNTIME[:PATH]  to your command/config. YouTube extraction without a JS runtime has been deprecated, and some formats may be missing. See  https://github.com/yt-dlp/yt-dlp/wiki/EJS  for details on installing one
[youtube] Uj_u9qDRzpE: Downloading android sdkless player API JSON
[youtube] Uj_u9qDRzpE: Downloading web safari player API JSON
WARNING: [youtube] Uj_u9qDRzpE: Some web_safari client https formats have been skipped as they are missing a url. YouTube is forcing SABR streaming for this client. See  https://github.com/yt-dlp/yt-dlp/issues/12482  for more details
[youtube] Uj_u9qDRzpE: Downloading m3u8 information
WARNING: [youtube] Uj_u9qDRzpE: Some web client https formats have been skipped as they are missing a url. YouTube is forcing SABR streaming for this client. See  https://github.com/yt-dlp/yt-dlp/issues/12482  for more details
[info] Uj_u9qDRzpE: Downloading subtitles: en
[info] Uj_u9qDRzpE: Downloading 1 format(s): 91
[info] Writing video subtitles to: /tmp/tmp__yre_vt/Uj_u9qDRzpE.en.vtt
WARNING: The extractor specified to use impersonation for this download, but no impersonate target is available. If you encounter errors, then see  https://github.com/yt-dlp/yt-dlp#impersonation  for information on installing the required dependencies
[download] Destination: /tmp/tmp__yre_vt/Uj_u9qDRzpE.en.vtt
[download]    1.00KiB at  Unknown B/s (00:00:00)[download]    3.00KiB at  Unknown B/s (00:00:00)[download]    7.00KiB at  Unknown B/s (00:00:00)[download]   15.00KiB at   11.08MiB/s (00:00:00)[download]   31.00KiB at   18.49MiB/s (00:00:00)[download]   63.00KiB at   17.06MiB/s (00:00:00)[download]  127.00KiB at   14.54MiB/s (00:00:00)[download]  255.00KiB at    9.43MiB/s (00:00:00)[download]  364.24KiB at    9.55MiB/s (00:00:00)[download] 100% of  364.24KiB in 00:00:00 at 2.19MiB/s
127.0.0.1 - - [08/Dec/2025 14:16:42] "POST /api/extract-transcript HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 14:16:42] "[35m[1mPOST /api/summarize HTTP/1.1[0m" 500 -
